
{{ require_css(get_asset_url('../../css/slick.css')) }}
<section class="nordfabrik-service">
    <div class="normal-wrapper">
        <div class="service__box">
            <div class="slider__box" id="service-slider-box">
                {% for item in module.service_block_group %}
                <div>
                    <div class="service__block">
                        {% set href = item.service_block_link.url.href %}
                        {% if item.service_block_link.url.type is equalto "EMAIL_ADDRESS" %}
                        {% set href = "mailto:" + href %}
                        {% endif %}
                        <a href="{{ href }}"
                           {% if item.service_block_link.open_in_new_tab %}target="_blank"{% endif %}
                           {% if item.service_block_link.rel %}rel="{{ item.service_block_link.rel }}"{% endif %}
                           >
                            <div class="top-content">
                                
                            </div>
                        </a>     
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>


{% require_js %}
{{ require_js(get_asset_url('../../js/slick.min.js')) }}

<script>
    $(document).ready(function(){

        $('#service-slider-box').slick({
            slidesToShow: 3,
            slidesToScroll: 1,
            dots: false,
            autoplaySpeed: 5000,
            responsive: [
                {
                    breakpoint: 1012,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 1
                    }
                },
                {
                    breakpoint: 578,
                    settings: {
                        slidesToShow: 1,
                        slidesToScroll: 1
                    }
                }
            ]
        });

        
           $("#service-slider-box").on('beforeChange', (event,slick,currentSlide,nextSlide)=>{

                    if ((currentSlide > nextSlide && (nextSlide !== 0 || currentSlide === 1)) || (currentSlide === 0 && nextSlide === slick.slideCount - 1)) {
                        var nextIndex = currentSlide - 1;
                    } else {
                        var nextIndex = currentSlide + 1;
                    }

                    $(this).find(`[data-slick-index="${nextIndex}"]`).addClass('slick-target');
                }
                );

                $("#service-slider-box").on('afterChange', ()=>{
                    $(this).find('.slick-slide').removeClass('slick-target');
                }
                );
        
    });

</script>
{% end_require_js %}

.nordfabrik-service .service__block {height:100%; overflow: hidden;}
.nordfabrik-service .slick-list {margin: 0px 0px 0 -20px !important;}

/* arrow */
.nordfabrik-service .slick-slider .slick-prev {position: absolute;right: 87px;top:-83px;border: none;font-size: 0;padding:0;}
.nordfabrik-service .slick-slider .slick-prev:before {position: absolute;border: none;font-size: 0;padding:0;}
.nordfabrik-service .slick-slider .slick-next {position: absolute;right: 37px;top: -83px;border: none;font-size: 0;padding:0;}
.nordfabrik-service .slick-slider .slick-next:before {position: absolute;border: none;font-size: 0;padding:0;}
.nordfabrik-service .slick-slider .slick-prev:before {content: '';opacity: 1;background: url('https://4201731.fs1.hubspotusercontent-na1.net/hubfs/4201731/60_Logos/Vector%20(1).svg');position: absolute;width: 33px;height: 23px;background-repeat: no-repeat;background-size: contain;}
.nordfabrik-service .slick-slider .slick-next:before {content: '';opacity: 1;background: url('https://4201731.fs1.hubspotusercontent-na1.net/hubfs/4201731/60_Logos/Vector.svg');position: absolute;width: 33px;height: 23px;background-repeat: no-repeat;background-size: contain;}
.nordfabrik-service .slick-track {display: flex !important;flex-wrap: wrap;}
.nordfabrik-service .slick-slide {height:auto !important;}
.nordfabrik-service .slick-list {padding: 0 35px;}
.nordfabrik-service .slick-active .service__block, .nordfabrik-service .slick-target .service__block {transform: skewX(-10deg);background: rgba(215, 111, 70, 0.05);margin: 0 0px 0px 20px;transition: all 0.4s;}
.nordfabrik-service .slick-slide {pointer-events: none; }
.nordfabrik-service .slick-active .service__block a, .nordfabrik-service .slick-target .service__block a {opacity: 1;visibility: visible; transform: skewX(10deg);}
.nordfabrik-service .slick-active.slick-slide {pointer-events: inherit;}
.nordfabrik-service .service__block:hover {background: #D76F46;}
.nordfabrik-service .normal-wrapper {max-width: 1190px;padding: 0 20px;}
.nordfabrik-service .arrow-img svg {width: 20px;height: 14px;transition: all 0.4s;}
.nordfabrik-service .service__block:hover .arrow-img svg {transform: scale(1.3);}


